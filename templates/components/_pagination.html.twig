{% if pageCount > 1 %}
    <nav class="mx-auto text-center">
        <div class="inline-flex -space-x-px">
            {% if previous is defined %}
                <a rel="prev" href="{{ path(route, query|merge({(pageParameterName): previous})) }}"
                   title="Précédent" aria-label="Précédent"
                   class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 dark:bg-gray-600 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white dark:border-gray-500"
                >
                    <span class="sr-only">Précédent</span>
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                </a>
            {% endif %}

            {% if startPage > 1 %}
                <a href="{{ path(route, query|merge({(pageParameterName): 1})) }}"
                   title="1" aria-label="1"
                   class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white dark:border-gray-500"
                >
                    1
                </a>
                {% if startPage == 3 %}
                    <a href="{{ path(route, query|merge({(pageParameterName): 2})) }}"
                       title="2" aria-label="2"
                       class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white dark:border-gray-500"
                    >
                        2
                    </a>
                {% elseif startPage != 2 %}
                    <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-gray-500 dark:bg-gray-600 dark:text-gray-300 dark:border-gray-500">
                        ...
                    </span>
                {% endif %}
            {% endif %}

            {% for page in pagesInRange %}
                {% if page != current %}
                    <a href="{{ path(route, query|merge({(pageParameterName): page})) }}"
                       title="{{ page }}" aria-label="{{ page }}"
                       class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white dark:border-gray-500"
                    >
                        {{ page }}
                    </a>
                {% else %}
                    <span class="{{ previous is defined ? '' : 'rounded-l-md' }} {{ next is defined ? '' : 'rounded-r-md' }} relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white font-medium text-red-500 dark:bg-gray-600 dark:border-gray-500">
                        {{ page }}
                    </span>
                {% endif %}
            {% endfor %}

            {% if pageCount > endPage %}
                {% if pageCount > (endPage + 1) %}
                    {% if pageCount > (endPage + 2) %}
                        <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-gray-500">
                            ...
                        </span>
                    {% else %}
                        <a href="{{ path(route, query|merge({(pageParameterName): (pageCount - 1)})) }}"
                           title="{{ pageCount - 1 }}" aria-label="{{ pageCount - 1 }}"
                           class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700 dark:border-gray-500"
                        >
                            {{ pageCount - 1 }}
                        </a>
                    {% endif %}
                {% endif %}
                <a href="{{ path(route, query|merge({(pageParameterName): pageCount})) }}"
                   title="{{ pageCount }}" aria-label="{{ pageCount }}"
                   class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700 dark:border-gray-500"
                >
                    {{ pageCount }}
                </a>
            {% endif %}

            {% if next is defined %}
                <a rel="next" href="{{ path(route, query|merge({(pageParameterName): next})) }}"
                   title="Suivant" aria-label="Suivant"
                   class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white font-medium text-gray-500 hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-700 dark:text-gray-300 dark:hover:text-white dark:border-gray-500"
                >
                    <span class="sr-only">Suivant</span>
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                    </svg>
                </a>
            {% endif %}
        </div>
    </nav>
{% endif %}
